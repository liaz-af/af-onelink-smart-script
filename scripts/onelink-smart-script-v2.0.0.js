/**
 * AF Smart Script (Build 2.0.0)
 */

var AF_URL_SCHEME = "(https:\\/\\/)(([^\\.][^\\.]+).)(.*\\/)(.*)";
var VALID_AF_URL_PARTS_LENGTH = 5;
var GOOGLE_CLICK_ID = "gclid";
var ASSOCIATED_AD_KEYWORD = "keyword";
var AF_KEYWORDS = "af_keywords";
var AF_PARAMS_KEYS = ["pid", "c", "af_channel", "af_ad", "af_adset", "deep_link_value", "af_sub1", "af_sub2", "af_sub3", "af_sub4", "af_sub5"];

var stringifyParameters = function stringifyParameters() {
  var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var paramStr = Object.keys(parameters).reduce(function (curr, key) {
    if (!!parameters[key]) {
      curr += "&".concat(key, "=").concat(parameters[key]);
    }

    return curr;
  }, '');
  console.debug("Generated OneLink parameters", paramStr);
  return paramStr;
};

var getParameterValue = function getParameterValue(currentURLParams) {
  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
    keys: [],
    overrideValues: {},
    defaultValue: ""
  };

  //exit when config object structure is not valid
  if (!(config !== null && config !== void 0 && config.keys && Array.isArray(config.keys) || config !== null && config !== void 0 && config.defaultValue)) {
    console.error("Parameter config structure is wrong", config);
    return null;
  }

  var _config$keys = config.keys,
      keys = _config$keys === void 0 ? [] : _config$keys,
      _config$overrideValue = config.overrideValues,
      overrideValues = _config$overrideValue === void 0 ? {} : _config$overrideValue,
      _config$defaultValue = config.defaultValue,
      defaultValue = _config$defaultValue === void 0 ? "" : _config$defaultValue;
  var firstMatchedKey = keys.find(function (key) {
    //set the first match of key which contains also a value
    return !!currentURLParams[key];
  });

  if (!!firstMatchedKey) {
    var value = currentURLParams[firstMatchedKey]; //in case the value exists:
    //check if it exists in the overrideValues object, when exists - replace it
    //otherwise return default value

    return overrideValues[value] || value || defaultValue;
  }

  return defaultValue;
};

var getURLParametersKV = function getURLParametersKV(urlSearch) {
  var currentURLParams = decodeURIComponent(urlSearch).replace("?", "").split("&").reduce(function (curr, param) {
    var kv = param.split("=");

    if (!!kv[0] && !!kv[1]) {
      curr[[kv[0]]] = kv[1];
    }

    return curr;
  }, {});
  console.debug("Generated current parameters object", currentURLParams);
  return currentURLParams;
};

var isSkippedURL = function isSkippedURL(skipKeys) {
  // search if this page referred and contains one of the given keys
  if (!!document.referrer) {
    var lowerReferrer = decodeURIComponent(document.referrer.toLowerCase());

    if (!!lowerReferrer) {
      var skipKey = skipKeys.find(function (key) {
        return lowerReferrer.includes(key.toLowerCase());
      });
      !!skipKey && console.debug("Generate url is skipped. HTTP referrer contains key: ", skipKey);
      return !!skipKey;
    }
  }

  return false;
};

var getGoogleClickIdParameters = function getGoogleClickIdParameters(gciConfig, currentURLParams) {
  var gciParam = currentURLParams[GOOGLE_CLICK_ID] || gciConfig.defaultValue;
  var result = {};

  if (gciParam) {
    console.debug("This user comes from Google AdWords");
    result[gciConfig.paramKey] = (gciConfig.overrideValues || {})[gciParam] || gciParam;
    var keywordParam = currentURLParams[ASSOCIATED_AD_KEYWORD];

    if (keywordParam) {
      console.debug("There is a keyword associated with the ad");
      result[AF_KEYWORDS] = keywordParam;
    }
  } else {
    console.debug("This user comes from SRN or custom network");
  }

  return result;
};

(function () {
  var generateOneLinkURL = function generateOneLinkURL() {
    var _ref, _mediaSource$keys;

    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
      afParameters: {}
    };
    var oneLinkURL = parameters.oneLinkURL,
        _parameters$afParamet = parameters.afParameters;
    _parameters$afParamet = _parameters$afParamet === void 0 ? {} : _parameters$afParamet;
    var mediaSource = _parameters$afParamet.mediaSource,
        campaign = _parameters$afParamet.campaign,
        channel = _parameters$afParamet.channel,
        ad = _parameters$afParamet.ad,
        adSet = _parameters$afParamet.adSet,
        deepLinkValue = _parameters$afParamet.deepLinkValue,
        afSub1 = _parameters$afParamet.afSub1,
        afSub2 = _parameters$afParamet.afSub2,
        afSub3 = _parameters$afParamet.afSub3,
        afSub4 = _parameters$afParamet.afSub4,
        afSub5 = _parameters$afParamet.afSub5,
        afCustom = _parameters$afParamet.afCustom,
        googleClickId = _parameters$afParamet.googleClickId,
        _parameters$referrerS = parameters.referrerSkipList,
        referrerSkipList = _parameters$referrerS === void 0 ? [] : _parameters$referrerS;
    var oneLinkURLParts = (_ref = oneLinkURL || "") === null || _ref === void 0 ? void 0 : _ref.toString().match(AF_URL_SCHEME);

    if (!oneLinkURLParts || (oneLinkURLParts === null || oneLinkURLParts === void 0 ? void 0 : oneLinkURLParts.length) < VALID_AF_URL_PARTS_LENGTH) {
      console.error("oneLinkURL is missing or not in the correct format, can't generate URL", oneLinkURL);
      return null;
    }

    if ((mediaSource === null || mediaSource === void 0 ? void 0 : (_mediaSource$keys = mediaSource.keys) === null || _mediaSource$keys === void 0 ? void 0 : _mediaSource$keys.length) === 0 && !(mediaSource !== null && mediaSource !== void 0 && mediaSource.defaultValue)) {
      console.error("mediaSource is missing (default value was not supplied), can't generate URL", mediaSource);
      return null;
    }

    if (isSkippedURL(referrerSkipList)) {
      return null;
    } // af_js_web=true and af_ss_ver=[version] will be added to every URL that was generated through this script


    var afParams = {
      af_js_web: true,
      af_ss_ver: window.AF_SMART_SCRIPT.version
    };
    var currentURLParams = getURLParametersKV(window.location.search);

    if (mediaSource) {
      var pidValue = getParameterValue(currentURLParams, mediaSource);

      if (!pidValue) {
        console.error("mediaSource was not found in the URL and default value was not supplied, can't generate URL", mediaSource);
        return null;
      }

      afParams["pid"] = pidValue;
    }

    if (campaign) {
      afParams["c"] = getParameterValue(currentURLParams, campaign);
    }

    if (channel) {
      afParams["af_channel"] = getParameterValue(currentURLParams, channel);
    }

    if (ad) {
      afParams["af_ad"] = getParameterValue(currentURLParams, ad);
    }

    if (adSet) {
      afParams["af_adset"] = getParameterValue(currentURLParams, adSet);
    }

    if (deepLinkValue) {
      afParams["deep_link_value"] = getParameterValue(currentURLParams, deepLinkValue);
    }

    var afSubs = [afSub1, afSub2, afSub3, afSub4, afSub5];
    afSubs.forEach(function (afSub, index) {
      if (afSub) {
        afParams["af_sub".concat(index + 1)] = getParameterValue(currentURLParams, afSub);
      }
    });

    if (googleClickId !== null && googleClickId !== void 0 && googleClickId.paramKey) {
      if (!!AF_PARAMS_KEYS.find(function (k) {
        return k === (googleClickId === null || googleClickId === void 0 ? void 0 : googleClickId.paramKey);
      })) {
        console.debug("Google Click Id ParamKey can't override AF Parameters keys", googleClickId);
      } else {
        var googleParameters = getGoogleClickIdParameters(googleClickId, currentURLParams);
        Object.keys(googleParameters).forEach(function (gpk) {
          afParams[gpk] = googleParameters[gpk];
        });
      }
    }

    if (Array.isArray(afCustom)) {
      afCustom.forEach(function (customParam) {
        if (customParam !== null && customParam !== void 0 && customParam.paramKey) {
          if ((customParam === null || customParam === void 0 ? void 0 : customParam.paramKey) === (googleClickId === null || googleClickId === void 0 ? void 0 : googleClickId.paramKey) || !!AF_PARAMS_KEYS.find(function (k) {
            return k === (customParam === null || customParam === void 0 ? void 0 : customParam.paramKey);
          })) {
            console.debug("Custom parameter ParamKey can't override Google-Click-Id or AF Parameters keys", customParam);
          } else {
            afParams[[customParam.paramKey]] = getParameterValue(currentURLParams, customParam);
          }
        }
      });
    }

    var finalParams = stringifyParameters(afParams);
    var finalURL = oneLinkURL + finalParams.replace("&", "?");
    console.debug("Generated OneLink URL", finalURL);
    return {
      clickURL: finalURL
    };
  };

  window.AF_SMART_SCRIPT = {
    generateOneLinkURL: generateOneLinkURL,
    version: "2"
  };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib25lbGluay1zbWFydC1zY3JpcHQtdjIuMC4wLmpzIiwic291cmNlcyI6WyIuLi9zcmMvY29uc3RhbnRzL3NtYXJ0U2NyaXB0LmpzIiwiLi4vc3JjL3V0aWxzL3NtYXJ0U2NyaXB0LmpzIiwiLi4vc3JjL3NlcnZpY2VzL3NtYXJ0U2NyaXB0LmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBBRl9VUkxfU0NIRU1FID0gXCIoaHR0cHM6XFxcXC9cXFxcLykoKFteXFxcXC5dW15cXFxcLl0rKS4pKC4qXFxcXC8pKC4qKVwiO1xuZXhwb3J0IGNvbnN0IFZBTElEX0FGX1VSTF9QQVJUU19MRU5HVEggPSA1O1xuZXhwb3J0IGNvbnN0IEdPT0dMRV9DTElDS19JRCA9IFwiZ2NsaWRcIjtcbmV4cG9ydCBjb25zdCBBU1NPQ0lBVEVEX0FEX0tFWVdPUkQgPSBcImtleXdvcmRcIjtcbmV4cG9ydCBjb25zdCBBRl9LRVlXT1JEUyA9IFwiYWZfa2V5d29yZHNcIjtcbmV4cG9ydCBjb25zdCBBRl9QQVJBTVNfS0VZUyA9IFtcInBpZFwiLCBcImNcIiwgXCJhZl9jaGFubmVsXCIsIFwiYWZfYWRcIiwgXCJhZl9hZHNldFwiLCBcImRlZXBfbGlua192YWx1ZVwiLCBcImFmX3N1YjFcIiwgXCJhZl9zdWIyXCIsIFwiYWZfc3ViM1wiLCBcImFmX3N1YjRcIiwgXCJhZl9zdWI1XCJdOyIsImNvbnN0IHN0cmluZ2lmeVBhcmFtZXRlcnMgPSAocGFyYW1ldGVycyA9IHt9KSA9PiB7XG4gIGNvbnN0IHBhcmFtU3RyID0gT2JqZWN0LmtleXMocGFyYW1ldGVycylcbiAgICAucmVkdWNlKChjdXJyLCBrZXkpID0+IHtcbiAgICAgIGlmKCEhcGFyYW1ldGVyc1trZXldKSB7XG4gICAgICAgIGN1cnIgKz0gYCYke2tleX09JHtwYXJhbWV0ZXJzW2tleV19YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyO1xuICAgIH0sICcnKTtcbiAgY29uc29sZS5kZWJ1ZyhcIkdlbmVyYXRlZCBPbmVMaW5rIHBhcmFtZXRlcnNcIiwgcGFyYW1TdHIpO1xuICByZXR1cm4gcGFyYW1TdHI7XG59XG5cbmNvbnN0IGdldFBhcmFtZXRlclZhbHVlID0gKGN1cnJlbnRVUkxQYXJhbXMsIGNvbmZpZyA9IHtrZXlzOiBbXSwgb3ZlcnJpZGVWYWx1ZXM6IHt9LCBkZWZhdWx0VmFsdWU6IFwiXCJ9KSA9PiB7XG5cbiAgLy9leGl0IHdoZW4gY29uZmlnIG9iamVjdCBzdHJ1Y3R1cmUgaXMgbm90IHZhbGlkXG4gIGlmKCEoKGNvbmZpZz8ua2V5cyAmJiBBcnJheS5pc0FycmF5KGNvbmZpZy5rZXlzKSkgfHwgY29uZmlnPy5kZWZhdWx0VmFsdWUpKXtcbiAgICBjb25zb2xlLmVycm9yKFwiUGFyYW1ldGVyIGNvbmZpZyBzdHJ1Y3R1cmUgaXMgd3JvbmdcIiwgY29uZmlnKVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIGtleXMgPSBbXSxcbiAgICBvdmVycmlkZVZhbHVlcyA9IHt9LFxuICAgIGRlZmF1bHRWYWx1ZSA9IFwiXCJcbiAgfSA9IGNvbmZpZ1xuXG4gIGNvbnN0IGZpcnN0TWF0Y2hlZEtleSA9IGtleXMuZmluZChrZXkgPT4ge1xuICAgIC8vc2V0IHRoZSBmaXJzdCBtYXRjaCBvZiBrZXkgd2hpY2ggY29udGFpbnMgYWxzbyBhIHZhbHVlXG4gICAgcmV0dXJuICEhY3VycmVudFVSTFBhcmFtc1trZXldO1xuICB9KTtcblxuICBpZighIWZpcnN0TWF0Y2hlZEtleSkge1xuICAgIGNvbnN0IHZhbHVlID0gY3VycmVudFVSTFBhcmFtc1tmaXJzdE1hdGNoZWRLZXldXG4gICAgLy9pbiBjYXNlIHRoZSB2YWx1ZSBleGlzdHM6XG4gICAgLy9jaGVjayBpZiBpdCBleGlzdHMgaW4gdGhlIG92ZXJyaWRlVmFsdWVzIG9iamVjdCwgd2hlbiBleGlzdHMgLSByZXBsYWNlIGl0XG4gICAgLy9vdGhlcndpc2UgcmV0dXJuIGRlZmF1bHQgdmFsdWVcbiAgICByZXR1cm4gb3ZlcnJpZGVWYWx1ZXNbdmFsdWVdIHx8IHZhbHVlIHx8IGRlZmF1bHRWYWx1ZTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuXG5jb25zdCBnZXRVUkxQYXJhbWV0ZXJzS1YgPSB1cmxTZWFyY2ggPT4ge1xuICBjb25zdCBjdXJyZW50VVJMUGFyYW1zID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybFNlYXJjaClcbiAgICAucmVwbGFjZShcIj9cIiwgXCJcIilcbiAgICAuc3BsaXQoXCImXCIpXG4gICAgLnJlZHVjZSgoY3VyciwgcGFyYW0pID0+IHtcbiAgICAgIGNvbnN0IGt2ID0gcGFyYW0uc3BsaXQoXCI9XCIpO1xuICAgICAgaWYoISFrdlswXSAmJiAhIWt2WzFdKXtcbiAgICAgICAgY3Vycltba3ZbMF1dXSA9IGt2WzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnI7XG4gICAgfSwge30pO1xuICBjb25zb2xlLmRlYnVnKFwiR2VuZXJhdGVkIGN1cnJlbnQgcGFyYW1ldGVycyBvYmplY3RcIiwgY3VycmVudFVSTFBhcmFtcyk7XG4gIHJldHVybiBjdXJyZW50VVJMUGFyYW1zO1xufVxuXG5leHBvcnQge1xuICBzdHJpbmdpZnlQYXJhbWV0ZXJzLFxuICBnZXRQYXJhbWV0ZXJWYWx1ZSxcbiAgZ2V0VVJMUGFyYW1ldGVyc0tWXG59IiwiaW1wb3J0IHtcbiAgR09PR0xFX0NMSUNLX0lELFxuICBBU1NPQ0lBVEVEX0FEX0tFWVdPUkQsXG4gIEFGX0tFWVdPUkRTXG59IGZyb20gXCIuLi9jb25zdGFudHMvc21hcnRTY3JpcHRcIjtcblxuY29uc3QgaXNTa2lwcGVkVVJMID0gc2tpcEtleXMgPT4ge1xuICAvLyBzZWFyY2ggaWYgdGhpcyBwYWdlIHJlZmVycmVkIGFuZCBjb250YWlucyBvbmUgb2YgdGhlIGdpdmVuIGtleXNcbiAgaWYoISFkb2N1bWVudC5yZWZlcnJlcikge1xuICAgIGNvbnN0IGxvd2VyUmVmZXJyZXIgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYoISFsb3dlclJlZmVycmVyKXtcbiAgICAgIGNvbnN0IHNraXBLZXkgPSBza2lwS2V5cy5maW5kKGtleSA9PiBsb3dlclJlZmVycmVyLmluY2x1ZGVzKGtleS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAhIXNraXBLZXkgJiYgY29uc29sZS5kZWJ1ZyhcIkdlbmVyYXRlIHVybCBpcyBza2lwcGVkLiBIVFRQIHJlZmVycmVyIGNvbnRhaW5zIGtleTogXCIsIHNraXBLZXkpO1xuICAgICAgcmV0dXJuICEhc2tpcEtleVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmNvbnN0IGdldEFGSW1wcmVzc2lvblVSTCA9IChvbmVMaW5rUGFydHMsIGZpbmFsUGFyYW1zKSA9PiB7XG4gIC8vd2UgdGFrZSB0aGUgZG9tYWluWzRdIGFuZCBvbmVsaW5rIGlkWzVdIGZyb20gb25lTGluayBVUkxcbiAgcmV0dXJuIGBodHRwczovL2ltcHJlc3Npb25zLiR7b25lTGlua1BhcnRzWzRdfSR7b25lTGlua1BhcnRzWzVdfT8ke2ZpbmFsUGFyYW1zfWA7XG59XG5cbmNvbnN0IGdldEdvb2dsZUNsaWNrSWRQYXJhbWV0ZXJzID0gKGdjaUNvbmZpZywgY3VycmVudFVSTFBhcmFtcykgPT4ge1xuICBjb25zdCBnY2lQYXJhbSA9IGN1cnJlbnRVUkxQYXJhbXNbR09PR0xFX0NMSUNLX0lEXSB8fCBnY2lDb25maWcuZGVmYXVsdFZhbHVlO1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgaWYoZ2NpUGFyYW0pIHtcbiAgICBjb25zb2xlLmRlYnVnKFwiVGhpcyB1c2VyIGNvbWVzIGZyb20gR29vZ2xlIEFkV29yZHNcIik7XG4gICAgcmVzdWx0W2djaUNvbmZpZy5wYXJhbUtleV0gPSAoZ2NpQ29uZmlnLm92ZXJyaWRlVmFsdWVzIHx8IHt9KVtnY2lQYXJhbV0gfHwgZ2NpUGFyYW07XG4gICAgY29uc3Qga2V5d29yZFBhcmFtID0gY3VycmVudFVSTFBhcmFtc1tBU1NPQ0lBVEVEX0FEX0tFWVdPUkRdO1xuICAgIGlmKGtleXdvcmRQYXJhbSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIlRoZXJlIGlzIGEga2V5d29yZCBhc3NvY2lhdGVkIHdpdGggdGhlIGFkXCIpO1xuICAgICAgcmVzdWx0W0FGX0tFWVdPUkRTXSA9IGtleXdvcmRQYXJhbTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5kZWJ1ZyhcIlRoaXMgdXNlciBjb21lcyBmcm9tIFNSTiBvciBjdXN0b20gbmV0d29ya1wiKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQge1xuICBpc1NraXBwZWRVUkwsXG4gIGdldEFGSW1wcmVzc2lvblVSTCxcbiAgZ2V0R29vZ2xlQ2xpY2tJZFBhcmFtZXRlcnNcbn0iLCJpbXBvcnQge0FGX1VSTF9TQ0hFTUUsIFZBTElEX0FGX1VSTF9QQVJUU19MRU5HVEgsIEFGX1BBUkFNU19LRVlTfSBmcm9tIFwiLi9jb25zdGFudHMvc21hcnRTY3JpcHRcIjtcbmltcG9ydCB7Z2V0UGFyYW1ldGVyVmFsdWUsIGdldFVSTFBhcmFtZXRlcnNLViwgc3RyaW5naWZ5UGFyYW1ldGVyc30gZnJvbSBcIi4vdXRpbHMvc21hcnRTY3JpcHRcIjtcbmltcG9ydCB7aXNTa2lwcGVkVVJMLCBnZXRHb29nbGVDbGlja0lkUGFyYW1ldGVyc30gZnJvbSBcIi4vc2VydmljZXMvc21hcnRTY3JpcHRcIjtcblxuKGZ1bmN0aW9uKCl7XG4gIGNvbnN0IGdlbmVyYXRlT25lTGlua1VSTCA9IChwYXJhbWV0ZXJzID0ge2FmUGFyYW1ldGVyczoge319KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb25lTGlua1VSTCwgLy9bc3RyaW5nXVxuICAgICAgLy9lYWNoIGlubmVyIHBhcmFtZXRlciBvZiBbbWVkaWFTb3VyY2UsY2FtcGFpZ24sY2hhbm5lbCxhZCxhZFNldCxkZWVwTGlua1ZhbHVlXSBzaG91bGQgYWNjZXB0IGNvbmZpZyBvYmplY3Q6XG4gICAgICAvL3tcbiAgICAgIC8vICBrZXlzOltzdHJpbmdbXV0sXG4gICAgICAvLyAgb3ZlcnJpZGVWYWx1ZXM6IHtrZXk6dmFsdWV9LFxuICAgICAgLy8gIGRlZmF1bHRWYWx1ZTogW3N0cmluZ11cbiAgICAgIC8vfVxuICAgICAgYWZQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG1lZGlhU291cmNlLFxuICAgICAgICBjYW1wYWlnbixcbiAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgYWQsXG4gICAgICAgIGFkU2V0LFxuICAgICAgICBkZWVwTGlua1ZhbHVlLFxuICAgICAgICBhZlN1YjEsXG4gICAgICAgIGFmU3ViMixcbiAgICAgICAgYWZTdWIzLFxuICAgICAgICBhZlN1YjQsXG4gICAgICAgIGFmU3ViNSxcbiAgICAgICAgYWZDdXN0b20sIC8vYXJyYXkgb2Yge3BhcmFtS2V5OiBbc3RyaW5nXSwga2V5czpbc3RyaW5nW11dLCBvdmVycmlkZVZhbHVlczoge2tleTp2YWx1ZX0sIGRlZmF1bHRWYWx1ZTogW3N0cmluZ119XG4gICAgICAgIGdvb2dsZUNsaWNrSWQgLy97cGFyYW1LZXk6IFtzdHJpbmddLCBvdmVycmlkZVZhbHVlczoge2tleTp2YWx1ZX0sIGRlZmF1bHRWYWx1ZTogW3N0cmluZ119XG4gICAgICB9ID0ge30sXG4gICAgICByZWZlcnJlclNraXBMaXN0ID0gW10gLy9bc3RyaW5nW11dXG4gICAgfSA9IHBhcmFtZXRlcnM7XG5cbiAgICBjb25zdCBvbmVMaW5rVVJMUGFydHMgPSAob25lTGlua1VSTCB8fCBcIlwiKT8udG9TdHJpbmcoKS5tYXRjaChBRl9VUkxfU0NIRU1FKTtcbiAgICBpZighb25lTGlua1VSTFBhcnRzIHx8IG9uZUxpbmtVUkxQYXJ0cz8ubGVuZ3RoIDwgVkFMSURfQUZfVVJMX1BBUlRTX0xFTkdUSCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIm9uZUxpbmtVUkwgaXMgbWlzc2luZyBvciBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0LCBjYW4ndCBnZW5lcmF0ZSBVUkxcIiwgb25lTGlua1VSTCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZihtZWRpYVNvdXJjZT8ua2V5cz8ubGVuZ3RoID09PSAwICYmICFtZWRpYVNvdXJjZT8uZGVmYXVsdFZhbHVlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwibWVkaWFTb3VyY2UgaXMgbWlzc2luZyAoZGVmYXVsdCB2YWx1ZSB3YXMgbm90IHN1cHBsaWVkKSwgY2FuJ3QgZ2VuZXJhdGUgVVJMXCIsIG1lZGlhU291cmNlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmKGlzU2tpcHBlZFVSTChyZWZlcnJlclNraXBMaXN0KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gYWZfanNfd2ViPXRydWUgYW5kIGFmX3NzX3Zlcj1bdmVyc2lvbl0gd2lsbCBiZSBhZGRlZCB0byBldmVyeSBVUkwgdGhhdCB3YXMgZ2VuZXJhdGVkIHRocm91Z2ggdGhpcyBzY3JpcHRcbiAgICBjb25zdCBhZlBhcmFtcyA9IHthZl9qc193ZWI6IHRydWUsIGFmX3NzX3Zlcjogd2luZG93LkFGX1NNQVJUX1NDUklQVC52ZXJzaW9ufTtcbiAgICBjb25zdCBjdXJyZW50VVJMUGFyYW1zID0gZ2V0VVJMUGFyYW1ldGVyc0tWKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXG4gICAgaWYobWVkaWFTb3VyY2UpIHtcbiAgICAgIGNvbnN0IHBpZFZhbHVlID0gZ2V0UGFyYW1ldGVyVmFsdWUoY3VycmVudFVSTFBhcmFtcywgbWVkaWFTb3VyY2UpO1xuICAgICAgaWYoIXBpZFZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJtZWRpYVNvdXJjZSB3YXMgbm90IGZvdW5kIGluIHRoZSBVUkwgYW5kIGRlZmF1bHQgdmFsdWUgd2FzIG5vdCBzdXBwbGllZCwgY2FuJ3QgZ2VuZXJhdGUgVVJMXCIsIG1lZGlhU291cmNlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBhZlBhcmFtc1tcInBpZFwiXSA9IHBpZFZhbHVlO1xuICAgIH1cblxuICAgIGlmKGNhbXBhaWduKSB7XG4gICAgICBhZlBhcmFtc1tcImNcIl0gPSBnZXRQYXJhbWV0ZXJWYWx1ZShjdXJyZW50VVJMUGFyYW1zLCBjYW1wYWlnbik7XG4gICAgfVxuXG4gICAgaWYoY2hhbm5lbCkge1xuICAgICAgYWZQYXJhbXNbXCJhZl9jaGFubmVsXCJdID0gZ2V0UGFyYW1ldGVyVmFsdWUoY3VycmVudFVSTFBhcmFtcywgY2hhbm5lbCk7XG4gICAgfVxuXG4gICAgaWYoYWQpIHtcbiAgICAgIGFmUGFyYW1zW1wiYWZfYWRcIl0gPSBnZXRQYXJhbWV0ZXJWYWx1ZShjdXJyZW50VVJMUGFyYW1zLCBhZCk7XG4gICAgfVxuXG4gICAgaWYoYWRTZXQpIHtcbiAgICAgIGFmUGFyYW1zW1wiYWZfYWRzZXRcIl0gPSBnZXRQYXJhbWV0ZXJWYWx1ZShjdXJyZW50VVJMUGFyYW1zLCBhZFNldCk7XG4gICAgfVxuXG4gICAgaWYoZGVlcExpbmtWYWx1ZSkge1xuICAgICAgYWZQYXJhbXNbXCJkZWVwX2xpbmtfdmFsdWVcIl0gPSBnZXRQYXJhbWV0ZXJWYWx1ZShjdXJyZW50VVJMUGFyYW1zLCBkZWVwTGlua1ZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdCBhZlN1YnMgPSBbYWZTdWIxLCBhZlN1YjIsIGFmU3ViMywgYWZTdWI0LCBhZlN1YjVdO1xuICAgIGFmU3Vicy5mb3JFYWNoKChhZlN1YiwgaW5kZXgpID0+IHtcbiAgICAgIGlmKGFmU3ViKSB7XG4gICAgICAgIGFmUGFyYW1zW2BhZl9zdWIke2luZGV4ICsgMX1gXSA9IGdldFBhcmFtZXRlclZhbHVlKGN1cnJlbnRVUkxQYXJhbXMsIGFmU3ViKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmKGdvb2dsZUNsaWNrSWQ/LnBhcmFtS2V5KSB7XG4gICAgICBpZighIUFGX1BBUkFNU19LRVlTLmZpbmQoayA9PiBrID09PSBnb29nbGVDbGlja0lkPy5wYXJhbUtleSkpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkdvb2dsZSBDbGljayBJZCBQYXJhbUtleSBjYW4ndCBvdmVycmlkZSBBRiBQYXJhbWV0ZXJzIGtleXNcIiwgZ29vZ2xlQ2xpY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBnb29nbGVQYXJhbWV0ZXJzID0gZ2V0R29vZ2xlQ2xpY2tJZFBhcmFtZXRlcnMoZ29vZ2xlQ2xpY2tJZCwgY3VycmVudFVSTFBhcmFtcyk7XG4gICAgICAgIE9iamVjdC5rZXlzKGdvb2dsZVBhcmFtZXRlcnMpLmZvckVhY2goZ3BrID0+IHtcbiAgICAgICAgICBhZlBhcmFtc1tncGtdID0gZ29vZ2xlUGFyYW1ldGVyc1tncGtdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihBcnJheS5pc0FycmF5KGFmQ3VzdG9tKSkge1xuICAgICAgYWZDdXN0b20uZm9yRWFjaChjdXN0b21QYXJhbSA9PiB7XG4gICAgICAgIGlmKGN1c3RvbVBhcmFtPy5wYXJhbUtleSkge1xuICAgICAgICAgIGlmKGN1c3RvbVBhcmFtPy5wYXJhbUtleSA9PT0gZ29vZ2xlQ2xpY2tJZD8ucGFyYW1LZXkgfHwgISFBRl9QQVJBTVNfS0VZUy5maW5kKGsgPT4gayA9PT0gY3VzdG9tUGFyYW0/LnBhcmFtS2V5KSkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkN1c3RvbSBwYXJhbWV0ZXIgUGFyYW1LZXkgY2FuJ3Qgb3ZlcnJpZGUgR29vZ2xlLUNsaWNrLUlkIG9yIEFGIFBhcmFtZXRlcnMga2V5c1wiLCBjdXN0b21QYXJhbSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFmUGFyYW1zW1tjdXN0b21QYXJhbS5wYXJhbUtleV1dID0gZ2V0UGFyYW1ldGVyVmFsdWUoY3VycmVudFVSTFBhcmFtcywgY3VzdG9tUGFyYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZmluYWxQYXJhbXMgPSBzdHJpbmdpZnlQYXJhbWV0ZXJzKGFmUGFyYW1zKTtcbiAgICBjb25zdCBmaW5hbFVSTCA9IG9uZUxpbmtVUkwgKyBmaW5hbFBhcmFtcy5yZXBsYWNlKFwiJlwiLCBcIj9cIilcbiAgICBjb25zb2xlLmRlYnVnKFwiR2VuZXJhdGVkIE9uZUxpbmsgVVJMXCIsIGZpbmFsVVJMKTtcblxuICAgIHJldHVybiB7Y2xpY2tVUkw6IGZpbmFsVVJMfTtcbiAgfVxuICB3aW5kb3cuQUZfU01BUlRfU0NSSVBUID0ge2dlbmVyYXRlT25lTGlua1VSTCwgdmVyc2lvbjogXCIyXCJ9O1xufSkoKTsiXSwibmFtZXMiOlsiQUZfVVJMX1NDSEVNRSIsIlZBTElEX0FGX1VSTF9QQVJUU19MRU5HVEgiLCJHT09HTEVfQ0xJQ0tfSUQiLCJBU1NPQ0lBVEVEX0FEX0tFWVdPUkQiLCJBRl9LRVlXT1JEUyIsIkFGX1BBUkFNU19LRVlTIiwic3RyaW5naWZ5UGFyYW1ldGVycyIsInBhcmFtZXRlcnMiLCJwYXJhbVN0ciIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJjdXJyIiwia2V5IiwiY29uc29sZSIsImRlYnVnIiwiZ2V0UGFyYW1ldGVyVmFsdWUiLCJjdXJyZW50VVJMUGFyYW1zIiwiY29uZmlnIiwib3ZlcnJpZGVWYWx1ZXMiLCJkZWZhdWx0VmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJlcnJvciIsImZpcnN0TWF0Y2hlZEtleSIsImZpbmQiLCJ2YWx1ZSIsImdldFVSTFBhcmFtZXRlcnNLViIsInVybFNlYXJjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJzcGxpdCIsInBhcmFtIiwia3YiLCJpc1NraXBwZWRVUkwiLCJza2lwS2V5cyIsImRvY3VtZW50IiwicmVmZXJyZXIiLCJsb3dlclJlZmVycmVyIiwidG9Mb3dlckNhc2UiLCJza2lwS2V5IiwiaW5jbHVkZXMiLCJnZXRHb29nbGVDbGlja0lkUGFyYW1ldGVycyIsImdjaUNvbmZpZyIsImdjaVBhcmFtIiwicmVzdWx0IiwicGFyYW1LZXkiLCJrZXl3b3JkUGFyYW0iLCJnZW5lcmF0ZU9uZUxpbmtVUkwiLCJhZlBhcmFtZXRlcnMiLCJvbmVMaW5rVVJMIiwibWVkaWFTb3VyY2UiLCJjYW1wYWlnbiIsImNoYW5uZWwiLCJhZCIsImFkU2V0IiwiZGVlcExpbmtWYWx1ZSIsImFmU3ViMSIsImFmU3ViMiIsImFmU3ViMyIsImFmU3ViNCIsImFmU3ViNSIsImFmQ3VzdG9tIiwiZ29vZ2xlQ2xpY2tJZCIsInJlZmVycmVyU2tpcExpc3QiLCJvbmVMaW5rVVJMUGFydHMiLCJ0b1N0cmluZyIsIm1hdGNoIiwibGVuZ3RoIiwiYWZQYXJhbXMiLCJhZl9qc193ZWIiLCJhZl9zc192ZXIiLCJ3aW5kb3ciLCJBRl9TTUFSVF9TQ1JJUFQiLCJ2ZXJzaW9uIiwibG9jYXRpb24iLCJzZWFyY2giLCJwaWRWYWx1ZSIsImFmU3VicyIsImZvckVhY2giLCJhZlN1YiIsImluZGV4IiwiayIsImdvb2dsZVBhcmFtZXRlcnMiLCJncGsiLCJjdXN0b21QYXJhbSIsImZpbmFsUGFyYW1zIiwiZmluYWxVUkwiLCJjbGlja1VSTCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFPLElBQU1BLGFBQWEsR0FBRyw2Q0FBdEI7QUFDQSxJQUFNQyx5QkFBeUIsR0FBRyxDQUFsQztBQUNBLElBQU1DLGVBQWUsR0FBRyxPQUF4QjtBQUNBLElBQU1DLHFCQUFxQixHQUFHLFNBQTlCO0FBQ0EsSUFBTUMsV0FBVyxHQUFHLGFBQXBCO0FBQ0EsSUFBTUMsY0FBYyxHQUFHLENBQUMsS0FBRCxFQUFRLEdBQVIsRUFBYSxZQUFiLEVBQTJCLE9BQTNCLEVBQW9DLFVBQXBDLEVBQWdELGlCQUFoRCxFQUFtRSxTQUFuRSxFQUE4RSxTQUE5RSxFQUF5RixTQUF6RixFQUFvRyxTQUFwRyxFQUErRyxTQUEvRyxDQUF2Qjs7QUNMUCxJQUFNQyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLEdBQXFCO0FBQUEsTUFBcEJDLFVBQW9CLHVFQUFQLEVBQU87QUFDL0MsTUFBTUMsUUFBUSxHQUFHQyxNQUFNLENBQUNDLElB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
